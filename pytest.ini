[tool:pytest]
minversion = 6.0
addopts = 
    -ra
    -q
    --strict-config
    --cov=harborai
    --cov-report=html:tests/reports/coverage/html
    --cov-report=xml:tests/reports/coverage/coverage.xml
    --cov-report=term-missing
    --html=tests/reports/html/report.html
    --alluredir=tests/reports/allure
    --tb=short
    --maxfail=5
    -p no:warnings
    --timeout=300
    --timeout-method=thread

# Test path configuration - unified structure after refactoring
testpaths = 
    tests/unit
    tests/integration
    tests/functional
    tests/performance
    tests/security
    tests/api
    tests/compatibility
python_files = test_*.py
python_classes = Test*
python_functions = test_*

markers =
    unit: Unit tests
    integration: Integration tests
    functional: Functional tests
    performance: Performance tests
    security: Security tests
    p0: Priority 0 (critical)
    p1: Priority 1 (high)
    p2: Priority 2 (medium)
    p3: Priority 3 (low)
    slow: Slow running tests
    fast: Fast running tests
    api: API tests
    database: Database tests
    network: Network tests
    auth: Authentication tests
    config: Configuration tests
    cli: Command line interface tests
    plugin_system: Plugin system tests
    concurrent: Concurrent tests
    load: Load tests
    stress: Stress tests
    benchmark: Benchmark tests
    memory: Memory tests
    real_api: Tests that require real API keys
    mock: Tests using mocked services
    docker: Tests requiring Docker
    redis: Tests requiring Redis
    postgres: Tests requiring PostgreSQL

filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:requests.*
    ignore::UserWarning:urllib3.*