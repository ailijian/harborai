# HarborAI环境配置示例
# 复制此文件为.env并填入实际值

# =============================================================================
# 应用配置
# =============================================================================
APP_NAME=HarborAI
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# 服务器配置
HOST=0.0.0.0
PORT=8000
WORKERS=1
RELOAD=true

# =============================================================================
# 数据库配置
# =============================================================================
# PostgreSQL
DATABASE_URL=postgresql://harborai:password@localhost:5432/harborai
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# =============================================================================
# AI服务提供商API密钥
# =============================================================================
# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TIMEOUT=60
OPENAI_MAX_RETRIES=3

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_TIMEOUT=60
ANTHROPIC_MAX_RETRIES=3

# Google Gemini
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_BASE_URL=https://generativelanguage.googleapis.com/v1
GOOGLE_TIMEOUT=60
GOOGLE_MAX_RETRIES=3

# OpenRouter
OPENROUTER_API_KEY=sk-or-your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_TIMEOUT=60
OPENROUTER_MAX_RETRIES=3

# =============================================================================
# 认证和安全
# =============================================================================
# JWT配置
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API密钥配置
API_KEY_HEADER=X-API-Key
API_KEY_QUERY=api_key

# CORS配置
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# =============================================================================
# 缓存配置
# =============================================================================
CACHE_TTL=3600
CACHE_PREFIX=harborai:
CACHE_ENABLED=true

# 响应缓存
RESPONSE_CACHE_TTL=300
RESPONSE_CACHE_ENABLED=true

# =============================================================================
# 限流配置
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# 用户级别限流
USER_RATE_LIMIT_REQUESTS_PER_MINUTE=100
USER_RATE_LIMIT_BURST=20

# API密钥级别限流
API_KEY_RATE_LIMIT_REQUESTS_PER_MINUTE=1000
API_KEY_RATE_LIMIT_BURST=50

# =============================================================================
# 监控和追踪
# =============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=harborai
OTEL_SERVICE_VERSION=1.0.0
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_HEADERS=
OTEL_RESOURCE_ATTRIBUTES=service.name=harborai,service.version=1.0.0

# Jaeger
JAEGER_ENABLED=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# =============================================================================
# 健康检查
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# 文件存储
# =============================================================================
UPLOAD_DIR=uploads
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=.txt,.json,.csv,.pdf,.doc,.docx

# =============================================================================
# 测试配置
# =============================================================================
# 测试数据库
TEST_DATABASE_URL=postgresql://harborai:password@localhost:5432/harborai_test
TEST_REDIS_URL=redis://localhost:6379/1

# 测试API密钥（用于模拟测试）
TEST_OPENAI_API_KEY=sk-test-openai-key
TEST_ANTHROPIC_API_KEY=sk-ant-test-anthropic-key
TEST_GOOGLE_API_KEY=test-google-key

# 测试模式
TEST_MODE=false
MOCK_API_RESPONSES=false

# 性能测试
PERFORMANCE_TEST_ENABLED=false
PERFORMANCE_TEST_DURATION=60
PERFORMANCE_TEST_USERS=10
PERFORMANCE_TEST_SPAWN_RATE=1

# =============================================================================
# 开发配置
# =============================================================================
# 自动重载
AUTO_RELOAD=true
RELOAD_DIRS=harborai,tests

# 调试
DEBUG_SQL=false
DEBUG_REDIS=false
DEBUG_HTTP=false

# 代码质量
CODE_COVERAGE_THRESHOLD=80
CODE_QUALITY_CHECKS=true

# =============================================================================
# 生产配置提示
# =============================================================================
# 在生产环境中，请确保：
# 1. 更改所有默认密钥和密码
# 2. 设置 ENVIRONMENT=production
# 3. 设置 DEBUG=false
# 4. 配置适当的日志级别
# 5. 启用HTTPS
# 6. 配置防火墙和安全组
# 7. 定期备份数据库
# 8. 监控系统资源使用情况