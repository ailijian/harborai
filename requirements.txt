# HarborAI核心依赖
# Web框架
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
pydantic>=2.5.0

# HTTP客户端
httpx>=0.25.0
aiohttp>=3.9.0

# AI/LLM客户端
openai>=1.12.0
agently>=4.0.3

# 数据库
sqlalchemy>=2.0.0
alembic>=1.12.0
psycopg2-binary>=2.9.0

# 认证和安全
python-multipart>=0.0.6
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4

# 配置管理
python-dotenv>=1.0.0
pydantic-settings>=2.1.0

# 数据验证
jsonschema>=4.20.0

# 日志和监控
structlog>=23.2.0
prometheus-client>=0.19.0

# 系统资源监控
psutil>=5.9.0

# 统计API
flask>=3.0.0

# 分布式追踪 - 稳定版本配置（已验证兼容性）
# 核心OpenTelemetry包 - 锁定稳定版本
opentelemetry-api==1.38.0
opentelemetry-sdk==1.37.0

# 自动化仪表 - 使用兼容版本
opentelemetry-instrumentation-fastapi==0.58b0
opentelemetry-instrumentation-httpx==0.58b0
opentelemetry-instrumentation-redis==0.58b0
opentelemetry-instrumentation-sqlalchemy==0.58b0

# 导出器 - 明确版本约束
opentelemetry-exporter-prometheus==1.12.0rc1
opentelemetry-exporter-otlp-proto-grpc==1.37.0
opentelemetry-exporter-jaeger-proto-grpc==1.21.0

# 关键依赖 - 兼容性优化配置
# 注意：protobuf 4.x 与当前OpenTelemetry版本兼容，需要PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python
protobuf>=4.21.0,<5.0.0
grpcio>=1.60.0,<2.0.0
googleapis-common-protos>=1.52.0,<1.60.0

# 重试和容错
tenacity>=8.2.0

# 文件处理
aiofiles>=23.2.0

# 模板引擎
jinja2>=3.1.0

# CLI工具
click>=8.1.0
rich>=13.7.0